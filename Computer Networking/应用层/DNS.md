# DNS（Domain Name System）

- ip地址到主机名的转换

- 主机别名
- 邮件服务器别名

域名系统作为域名与IP映射的分布式数据库。

## 组成部分

- 一个由分层的DNS服务器实现的分布式数据库
- 一个使得主机能够查询分布式数据库的应用层协议

## 查询方式

- 递归查询
- 迭代查询

## 传输层协议

既使用tcp，又使用udp

- 进行区域传输时使用TCP

  域名服务器之间，传输量大，因此采用TCP

- 客户端向DNS服务器查询域名时，采用udp

## 分布式层次数据库

- 根DNS服务器
- 顶级域DNS服务器
- 权威DNS服务器

## DNS缓存

缓存主机名/IP地址对。

即使不是该主机名的权威服务器，也能返回结果。

## DNS记录

DNS服务器存储资源记录如下：

- Name

- Value

- Type

  - A

    Name是主机名

  - NS

    Name是个域

  - CNAME

    Value是别名为Name的主机对应的规范主机名

  - MX

    Value是别名为Name的邮件服务器的规范主机名

- TTL

  记录的生存时间，决定了资源记录应从缓存中删除的时间

## DNS报文

标识符                         标志    \

问题数                回答RR数      _ 12字节的首部区域    

权威RR数           附加RR数      /

问题：查询的名字和类型字段

回答：对查询的响应中的RR

权威：权威服务器的记录

附加信息：可悲使用的附加”有帮助的“信息