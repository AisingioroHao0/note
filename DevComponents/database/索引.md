# 索引

## 索引数据结构

### B+树索引

- 每个节点至多m个子节点
- 根节点至少两个子节点
- 除根节点外，每个节点至少有m/2个子节点
- 只有叶子节点存储数据，其他节点存储最大值
- 叶子节点通过链表的方式连接

适用于键前缀键值范围查找。

键前缀只适用于最左前缀查找。

### Hash索引

mysql中，只有Memory引擎显式支持哈希索引，采用拉链法处理冲突。

### 位图索引

按索引字段建立一个该字段的bitset。

有利于集合操作。

### 空间数据索引

### 全文索引

## 索引种类

### 前缀索引

索引很长的字符列时

### 联合索引

#### 最左前缀匹配原则

建立联合索引时会根据从左到右的顺序使用索引。

若建立索引的顺序是(a,b)，那么用where b=1是无法利用到索引的。

### 聚簇索引

 索引和数据存储在一起。

## 前缀压缩索引

压缩共同的前缀，字符串默认启用。

## 索引原则

- 修改性能远远大于检索性能时，不应该创建索引。
- 定义有外键的列一定要创建索引