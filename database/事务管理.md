# 事务

数据库的事务是一种机制，一个操作序列，包含了一组数据库操作命令，器质性结果必须式数据库从一种一致性状态编导另一种一致性状态。

## 特性

- 原子性

- 一致性

  多个事务对同一数据读取的结果相同

- 隔离性

  并发访问数据库时，一个用户的事务不被其他事务所干扰，哥哥事务不干涉内部的数据

- 持久性

  对数据的改变是持久的

使用日志保证原子性，一致性，持久性

使用锁来保证事务的隔离性

## 事务状态

- 活跃状态

  正在执行

- 部分提交状态、

  部分执行完成，部分提交，根据主内存缓冲区

- 失败状态

  活动状态或部分提交状态发生一些错误

- 中止状态

- 提交状态

## 事务之间的相互影响

- 脏读

  一个事务读取了另一个事务未提交的数据

- 不可重复度读

  在一个时间范围内，两次相同的查询会返回两个不同的数据

- 幻读

  丢失更新

## 事务隔离级别

- 读取未提交

  最低隔离级别，一个事务可以督导另一个事务未提交的结果，所有的并发问题都会发生

- 读取已提交

  只有在事务提交后，其更新结果才会被其他事务看见

- 读取已提交

- 可串行化

  所有事务串行执行