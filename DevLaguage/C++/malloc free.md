# maclloc

- 当开辟空间小于128K时，调用brk()函数，malloc的底层实现是系统调用brk()

  brk是将数据段的最高地址指针_edata往高地址推

  因此只有当高地址内存释放后才可能释放

- 当开辟空间大于128K时，mmap()系统调用函数来在虚拟地址空间中，文件映射区域的地方找一块空间来开辟。

  使用munmap释放

两种方式分配的都是虚拟内存，没有分配物理内存,当第一次访问时出现缺页中断，分配实际物理内存。